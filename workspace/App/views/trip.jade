// Jade file to specify output of an actors list
// Inherits from layout
extend layout
block content
  
  p
    | Trip: #{trip[0].NAME} <br>
    | To: #{trip[0].LOCATION} <br>
    | Dates: #{trip[0].START_DATE + " - " + trip[0].END_DATE}
    
  div.section_title="Accepted users:"
  table
    - for (var i = 0; i < accepted_users.length; i++)
        tr
          td
            a(href="/user/"+accepted_users[i].U_ID)
              span=accepted_users[i].FIRST_NAME + " " + accepted_users[i].LAST_NAME
  table
  br
  div.section_title="Invited users:"
  table
    - for (var i = 0; i < invited_users.length; i++)
        tr
          td
            a(href="/user/"+invited_users[i].U_ID)
              span=invited_users[i].FIRST_NAME + " " + invited_users[i].LAST_NAME
  br
  div.section_title="Trip Photos:"
  table
    - for (var inx = 0; inx < photos.length; inx++)
        - if(!photos[inx].NUM_LIKES) photos[inx].NUM_LIKES = '0'
        tr
          td.PostSeparatorOuter
        tr
          td.PostSeparatorInner
        tr
          td.PostSeparatorOuter  
        tr
          td.photo_taker
            a(href="/user/"+photos[inx].PUBLISHED_BY)
              span=photos[inx].FIRST_NAME + " " + photos[inx].LAST_NAME
        tr
          td
            img(src=photos[inx].URL)
          td &nbsp;
        tr          
          td.num_likes 
            span.right_align= photos[inx].NUM_LIKES + " Likes"
        tr
          td.like_button
              a(href="/like?uid="+uid+"&pid="+photos[inx].P_ID) Like
        tr
          td.photo_timestamp=photos[inx].SHARED_TIME
    

  // Put a click button that lets us return to the index page 
  form(method='get', action='/')
      input(type='submit', value='Return')
      
